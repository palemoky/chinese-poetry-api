apiVersion: v1
kind: ConfigMap
metadata:
  name: poetry-api-config
  namespace: poetry-api
  labels:
    app: chinese-poetry-api
data:
  config.yaml: |
    server:
      port: 1279
      mode: release  # debug, release, test

    database:
      # Connection pool settings (0 = auto-detect based on CPU cores)
      max_open_conns: 0  # 0 = auto (recommended)
      max_idle_conns: 0  # 0 = auto (recommended)

    rate_limit:
      enabled: true
      requests_per_second: 10
      burst: 20

    graphql:
      playground: false  # Enable GraphQL Playground (set to true for development)
      introspection: true
      complexity_limit: 1000
      requests_per_second: 10
      burst: 20
      by_ip: true

    search:
      max_results: 1000
      default_page_size: 20
